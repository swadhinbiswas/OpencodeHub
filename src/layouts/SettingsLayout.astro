---
import { Key, Lock, Shield, User } from "lucide-react";
import BaseLayout from "./BaseLayout.astro";

const { title } = Astro.props;

const navigation = [
  { name: "Profile", href: "/settings/profile", icon: User },
  { name: "Account", href: "/settings/account", icon: Lock },
  { name: "Security", href: "/settings/security", icon: Shield },
  { name: "SSH Keys", href: "/settings/ssh-keys", icon: Key },
];

const currentPath = Astro.url.pathname;
---

<BaseLayout title={title}>
  <div class="container mx-auto px-4 py-8">
    <div class="flex flex-col md:flex-row gap-8">
      <!-- Sidebar -->
      <aside class="w-full md:w-64 shrink-0">
        <nav class="space-y-1">
          {
            navigation.map((item) => {
              const isActive = currentPath === item.href;
              return (
                <a
                  href={item.href}
                  class:list={[
                    "flex items-center px-3 py-2 text-sm font-medium rounded-md group",
                    isActive
                      ? "bg-accent text-accent-foreground"
                      : "text-muted-foreground hover:bg-accent hover:text-accent-foreground",
                  ]}
                >
                  <item.icon
                    class:list={[
                      "mr-3 h-5 w-5 flex-shrink-0",
                      isActive
                        ? "text-accent-foreground"
                        : "text-muted-foreground group-hover:text-accent-foreground",
                    ]}
                  />
                  {item.name}
                </a>
              );
            })
          }
        </nav>
      </aside>

      <!-- Content -->
      <div class="flex-1">
        <div class="bg-white shadow sm:rounded-lg">
          <div class="px-4 py-5 sm:p-6">
            <slot />
          </div>
        </div>
      </div>
    </div>
  </div>
</BaseLayout>
